<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reward System - Fleet Credits Developer Documentation</title>
    <link rel="stylesheet" href="../assets/css/main.css">
</head>
<body>
    <div class="docs-container">
        <!-- Sidebar Navigation -->
<aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <span class="logo-icon">üöÄ</span>
                    <span class="logo-text">Fleet Credits</span>
                </div>
                <div class="version">v1.0.0 - Core</div>
                <div class="tagline">Scrypt PoW Blockchain with Contribution Rewards & MWEB Privacy</div>
                <div class="subtagline">‚ú® Complete Developer Documentation</div>
            </div>

            <div class="search-box">
                <input type="text" placeholder="Search documentation..." id="searchInput">
            </div>

            <nav class="nav-menu">
                <div class="nav-section">
                    <div class="nav-section-title">GETTING STARTED</div>
                    <a href="../index.html" class="nav-item">
                        <span class="nav-icon">üè†</span>
                        <span>Overview</span>
                    </a>
                    <a href="architecture.html" class="nav-item">
                        <span class="nav-icon">üèõÔ∏è</span>
                        <span>Architecture</span>
                    </a>
                    <a href="network-params.html" class="nav-item">
                        <span class="nav-icon">‚öôÔ∏è</span>
                        <span>Network Parameters</span>
                    </a>
                    <a href="building.html" class="nav-item">
                        <span class="nav-icon">üî®</span>
                        <span>Building & Setup</span>
                    </a>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">CORE BLOCKCHAIN</div>
                    <a href="blockchain-core.html" class="nav-item">
                        <span class="nav-icon">‚õìÔ∏è</span>
                        <span>Block & Transaction</span>
                    </a>
                    <a href="utxo-model.html" class="nav-item">
                        <span class="nav-icon">üíé</span>
                        <span>UTXO Model</span>
                    </a>
                    <a href="consensus.html" class="nav-item">
                        <span class="nav-icon">üîê</span>
                        <span>Consensus & PoW</span>
                    </a>
                    <a href="validation.html" class="nav-item">
                        <span class="nav-icon">‚úÖ</span>
                        <span>Validation System</span>
                    </a>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">CONTRIBUTION SYSTEM</div>
                    <a href="contribution-overview.html" class="nav-item">
                        <span class="nav-icon">üéØ</span>
                        <span>Contribution Overview</span>
                    </a>
                    <a href="contribution-types.html" class="nav-item">
                        <span class="nav-icon">üìã</span>
                        <span>Contribution Types</span>
                    </a>
                    <a href="contribution-rewards.html" class="nav-item active">
                        <span class="nav-icon">üí∞</span>
                        <span>Reward System</span>
                    </a>
                    <a href="verification-system.html" class="nav-item">
                        <span class="nav-icon">üîç</span>
                        <span>Verification System</span>
                    </a>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">MWEB PRIVACY</div>
                    <a href="mweb-overview.html" class="nav-item">
                        <span class="nav-icon">üîí</span>
                        <span>MWEB Overview</span>
                    </a>
                    <a href="mweb-structures.html" class="nav-item">
                        <span class="nav-icon">üèóÔ∏è</span>
                        <span>MWEB Structures</span>
                    </a>
                    <a href="mweb-operations.html" class="nav-item">
                        <span class="nav-icon">‚ö°</span>
                        <span>Peg-in/Peg-out</span>
                    </a>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">RPC API</div>
                    <a href="rpc-overview.html" class="nav-item">
                        <span class="nav-icon">üì°</span>
                        <span>RPC Overview</span>
                    </a>
                    <a href="rpc-contribution.html" class="nav-item">
                        <span class="nav-icon">üì§</span>
                        <span>Contribution RPC</span>
                    </a>
                    <a href="rpc-mweb.html" class="nav-item">
                        <span class="nav-icon">üîê</span>
                        <span>MWEB RPC</span>
                    </a>
                    <a href="rpc-mining.html" class="nav-item">
                        <span class="nav-icon">‚õèÔ∏è</span>
                        <span>Mining RPC</span>
                    </a>
                    <a href="rpc-wallet.html" class="nav-item">
                        <span class="nav-icon">üëõ</span>
                        <span>Wallet RPC</span>
                    </a>
                    <a href="rpc-blockchain.html" class="nav-item">
                        <span class="nav-icon">‚õìÔ∏è</span>
                        <span>Blockchain RPC</span>
                    </a>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">WALLET SYSTEM</div>
                    <a href="wallet-overview.html" class="nav-item">
                        <span class="nav-icon">üëõ</span>
                        <span>Wallet Overview</span>
                    </a>
                    <a href="wallet-classes.html" class="nav-item">
                        <span class="nav-icon">üì¶</span>
                        <span>Wallet Classes</span>
                    </a>
                    <a href="address-system.html" class="nav-item">
                        <span class="nav-icon">üìç</span>
                        <span>Address System</span>
                    </a>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">QT GUI</div>
                    <a href="qt-overview.html" class="nav-item">
                        <span class="nav-icon">üñ•Ô∏è</span>
                        <span>GUI Overview</span>
                    </a>
                    <a href="qt-components.html" class="nav-item">
                        <span class="nav-icon">üß©</span>
                        <span>Components</span>
                    </a>
                    <a href="qt-models.html" class="nav-item">
                        <span class="nav-icon">üìä</span>
                        <span>Models</span>
                    </a>
                    <a href="qt-themes.html" class="nav-item">
                        <span class="nav-icon">üé®</span>
                        <span>Themes</span>
                    </a>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">FEE STRUCTURE</div>
                    <a href="fee-system.html" class="nav-item">
                        <span class="nav-icon">üíµ</span>
                        <span>Fee System</span>
                    </a>
                    <a href="community-reserve.html" class="nav-item">
                        <span class="nav-icon">üè¶</span>
                        <span>Community Reserve</span>
                    </a>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">TESTING</div>
                    <a href="testing-overview.html" class="nav-item">
                        <span class="nav-icon">üß™</span>
                        <span>Testing Overview</span>
                    </a>
                    <a href="test-structures.html" class="nav-item">
                        <span class="nav-icon">üìù</span>
                        <span>Test Structures</span>
                    </a>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">REFERENCE</div>
                    <a href="erd-diagram.html" class="nav-item">
                        <span class="nav-icon">üìê</span>
                        <span>ERD Diagram</span>
                    </a>
                    <a href="naming-conventions.html" class="nav-item">
                        <span class="nav-icon">üìù</span>
                        <span>Naming Conventions</span>
                    </a>
                    <a href="api-reference.html" class="nav-item">
                        <span class="nav-icon">üìö</span>
                        <span>Complete API Reference</span>
                    </a>
                </div>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <div class="content-header">
                <h1>Reward System</h1>
            </div>

            <section class="content-section">
                <h2>Block Reward Calculation</h2>
                <p>Fleet Credits uses a fixed block reward system with dynamic bonuses based on verified contributions in each block.</p>
                
                <p><strong>Files:</strong> <code>src/fleetcredits.cpp</code>, <code>src/primitives/contribution.cpp</code>, <code>src/validation.cpp</code></p>
                
                <h3>Base Reward</h3>
                <p><strong>Fixed Reward:</strong> <code>1.00000069&nbsp;FC</code> per block (no halving, unlimited issuance)</p>
                <p>The fixed subsidy keeps inflation predictable while leaving room for contribution-driven bonuses to scale payouts for high-impact work.</p>
                
                <h3>Reward Calculation Function</h3>
                <p>The main reward calculation function is <code>GetFleetCreditsBlockSubsidyWithContributions</code>:</p>
                <pre><code>CAmount GetFleetCreditsBlockSubsidyWithContributions(
    int nHeight,
    const Consensus::Params& consensusParams,
    uint256 prevHash,
    const std::vector&lt;CContributionTransaction&gt;& contrib_txs
)</code></pre>
                
                <h3>Reward Formula</h3>
                <pre><code>const CAmount FC_BASE_BLOCK_REWARD         = 100000069;   // 1.00000069 FC
const CAmount FC_FOUNDATIONAL_BLOCK_REWARD = 125000420;   // 1.25000420 FC
const CAmount FC_SUBSTANTIVE_BLOCK_REWARD  = 175000006;   // 1.75000006 FC
const CAmount FC_HIGH_IMPACT_BLOCK_REWARD  = 269000009;   // 2.69000009 FC
const CAmount FC_CRITICAL_BLOCK_REWARD     = 369428008;   // 3.69428008 FC

// Determine the highest verified bonus level present in the block.
ContributionTier tier = EvaluateHighestContributionTier(contrib_txs);

// Map the tier to its absolute payout.
CAmount final_reward = GetContributionTierPayout(tier.level, tier.type);</code></pre>
                
                <h3>Tiered Payout Mapping</h3>
                <p><code>GetContributionTierPayout</code> (see <code>src/primitives/contribution.cpp</code>) returns absolute rewards instead of percentage multipliers:</p>
                <ul>
                    <li><code>BONUS_NONE</code> ‚Üí <code>1.00000069&nbsp;FC</code></li>
                    <li><code>BONUS_LOW</code> ‚Üí <code>1.25000420&nbsp;FC</code></li>
                    <li><code>BONUS_MEDIUM</code> ‚Üí <code>1.75000006&nbsp;FC</code></li>
                    <li><code>BONUS_HIGH</code> ‚Üí <code>2.69000009&nbsp;FC</code></li>
                    <li><code>BONUS_CRITICAL</code> ‚Üí <code>3.69428008&nbsp;FC</code> (reserved for AI validation &amp; ethical review)</li>
                </ul>
                
                <h3>Contribution Extraction</h3>
                <p>Contributions are extracted from blocks during validation via <code>ExtractContributionsFromBlock</code>:</p>
                <pre><code>std::vector&lt;CContributionTransaction&gt; ExtractContributionsFromBlock(const CBlock& block)</code></pre>
                
                <p>This function:</p>
                <ol>
                    <li>Iterates through all transactions in the block</li>
                    <li>Checks each output for <code>OP_RETURN</code> scripts</li>
                    <li>Identifies contributions by the marker <code>0xFC 0x01</code></li>
                    <li>Deserializes the contribution data</li>
                    <li>Returns a vector of all valid contributions</li>
                </ol>
                
                <h3>Block Validation Integration</h3>
                <p>In <code>ConnectBlock</code> (validation.cpp), contributions are extracted and used to calculate the block reward:</p>
                <pre><code>// Extract contributions from block
std::vector&lt;CContributionTransaction&gt; contributions = ExtractContributionsFromBlock(block);

// Calculate block reward with contribution bonuses
CAmount blockReward = nFees + GetFleetCreditsBlockSubsidyWithContributions(
    pindex->nHeight,
    consensusParams,
    pindex->pprev->GetBlockHash(),
    contributions
);</code></pre>
                
                <h3>Understanding the Base Reward</h3>
                <div class="info-box">
                    <strong>Why 1.00000069 FC for ‚ÄúNo Contributions‚Äù?</strong><br>
                    The base reward is the guaranteed miner subsidy for securing the chain, independent of contribution traffic. It maintains a healthy proof-of-work incentive floor while keeping overall inflation modest.<br><br>
                    <strong>Contribution tiers replace percentage multipliers with explicit payouts</strong>. This keeps issuance predictable and makes it crystal clear how much value each verified contribution delivers.
                </div>
                
                <h3>Reward Examples</h3>
                <table>
                    <tr><th>Scenario</th><th>Tier</th><th>Final Reward</th><th>Explanation</th></tr>
                    <tr><td>No contributions</td><td>BASE</td><td>1.00000069 FC</td><td>Standard mining reward with no verified payloads</td></tr>
                    <tr><td>Foundational contribution</td><td>BONUS_LOW</td><td>1.25000420 FC</td><td>Intro-level docs, triage, light reviews</td></tr>
                    <tr><td>Substantive contribution</td><td>BONUS_MEDIUM</td><td>1.75000006 FC</td><td>Meaningful code/data deliveries</td></tr>
                    <tr><td>High-impact contribution</td><td>BONUS_HIGH</td><td>2.69000009 FC</td><td>Major releases, multi-week efforts</td></tr>
                    <tr><td>Critical AI / Ethical review</td><td>BONUS_CRITICAL</td><td>3.69428008 FC</td><td>Safety-sensitive validation routed through oracles</td></tr>
                </table>
                
                <p><strong>Key Point:</strong> Tiers are deterministic. A block either lands in a specific payout band or it doesn‚Äôt, eliminating floating-point rounding issues while keeping miner economics transparent.</p>
                
                <h3>Multiple Contributions</h3>
                <p>When multiple contributions exist in a block, only the <strong>highest bonus level</strong> is used for the multiplier. This prevents exponential reward growth while still incentivizing high-value contributions.</p>
            </section>
        </main>
    </div>

    <script src="../assets/js/main.js"></script>
</body>
</html>