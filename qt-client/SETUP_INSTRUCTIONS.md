# Setup Instructions - Fleet Credits Qt Client

## Complete Setup Process

### Prerequisites

```bash
# Install Qt5 development packages (Ubuntu/Debian)
sudo apt-get update
sudo apt-get install -y \
    qt5-default \
    qtbase5-dev \
    qt5-qmake \
    qttools5-dev \
    qttools5-dev-tools \
    libqt5dbus5 \
    libqt5network5
```

### Step-by-Step Build

#### 1. Configure and Build Core Libraries

```bash
cd /mnt/d/seriousprojects/FleetCredits/fleetcredits

# Clean previous builds (optional)
make distclean || true

# Configure WITHOUT Qt GUI (we'll build Qt separately)
./configure --without-gui

# Build all core libraries and executables
make -j$(nproc)
```

This will create:
- `src/libfleetcredits_server.a`
- `src/libfleetcredits_wallet.a`
- `src/libfleetcredits_common.a`
- `src/libfleetcredits_util.a`
- `src/libfleetcredits_consensus.a`
- `src/crypto/libfleetcredits_crypto.a`
- `src/config/fleetcredits-config.h` (important!)
- All other dependencies

#### 2. Build Qt Client

```bash
cd qt-client

# Use the build script
./BUILD_SCRIPT.sh
```

Or manually:
```bash
cd qt-client
qmake FleetCredits.pro
make -j$(nproc)
```

#### 3. Run

```bash
../bin/fleetcredits-qt
```

Or if binary is in current directory:
```bash
./fleetcredits-qt
```

## File Locations

After building:

```
fleetcredits/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ libfleetcredits_*.a        # Core libraries
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ fleetcredits-config.h  # Config header (required!)
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ bin/                            # Output directory
â”‚   â””â”€â”€ fleetcredits-qt            # âœ… Qt client executable
â”‚
â””â”€â”€ qt-client/
    â”œâ”€â”€ build/                      # Build artifacts
    â””â”€â”€ Makefile                   # Generated by qmake
```

## Troubleshooting

### "config/fleetcredits-config.h: No such file"

**Solution**: Run `./configure` first:
```bash
cd ../src
./configure --without-gui
# This generates the config header
cd ../qt-client
qmake && make
```

### "Cannot find -lfleetcredits_server"

**Solution**: Build core libraries:
```bash
cd ../src
make -j$(nproc)
```

### "qmake: command not found"

**Solution**: Install Qt5:
```bash
sudo apt-get install qt5-qmake
```

### "No rule to make target '../src/qt/fleetcredits.cpp'"

**Solution**: Make sure you're in the `qt-client` directory:
```bash
pwd  # Should show: .../fleetcredits/qt-client
```

### Linking errors with Boost/SSL/etc.

**Solution**: Make sure all dependencies are installed:
```bash
sudo apt-get install \
    libboost-system-dev \
    libboost-filesystem-dev \
    libboost-thread-dev \
    libboost-chrono-dev \
    libssl-dev \
    libevent-dev \
    libdb++-dev \
    libqrencode-dev
```

## Using Qt Creator

1. **Open Project**:
   - File â†’ Open File or Project
   - Select `qt-client/FleetCredits.pro`

2. **Configure Build**:
   - Click "Configure Project"
   - Select a Qt Kit (Qt 5.x)
   - Set build directory (e.g., `qt-client/build`)

3. **Build**:
   - Click Build (or Ctrl+B)
   - Or: Build â†’ Build All

4. **Run**:
   - Click Run (or Ctrl+R)
   - Or: Build â†’ Run

## What Gets Built

- âœ… **Core libraries** (via autotools) - one-time build
- âœ… **Qt client** (via qmake) - rebuild when GUI changes
- âœ… **All Qt components** (70+ source files)
- âœ… **All UI forms** (23 .ui files)
- âœ… **All resources** (icons, styles, translations)

## Development Workflow

1. **Core changes**: Edit in `src/`, rebuild with `make`
2. **GUI changes**: Edit in `src/qt/`, rebuild with `qmake && make`
3. **UI form changes**: Edit `.ui` files in `src/qt/forms/`, rebuild Qt client

**Much simpler than fighting with autotools!** ðŸŽ‰

