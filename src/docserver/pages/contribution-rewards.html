<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reward System - Fleet Credits Developer Documentation</title>
    <link rel="stylesheet" href="../assets/css/main.css">
</head>
<body>
    <div class="docs-container">
        <!-- Sidebar Navigation -->
<aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <span class="logo-icon">üöÄ</span>
                    <span class="logo-text">Fleet Credits</span>
                </div>
                <div class="version">v1.0.0 - Core</div>
                <div class="tagline">Scrypt PoW Blockchain with Contribution Rewards & MWEB Privacy</div>
                <div class="subtagline">‚ú® Complete Developer Documentation</div>
            </div>

            <div class="search-box">
                <input type="text" placeholder="Search documentation..." id="searchInput">
            </div>

            <nav class="nav-menu">
                <div class="nav-section">
                    <div class="nav-section-title">GETTING STARTED</div>
                    <a href="../index.html" class="nav-item">
                        <span class="nav-icon">üè†</span>
                        <span>Overview</span>
                    </a>
                    <a href="architecture.html" class="nav-item">
                        <span class="nav-icon">üèõÔ∏è</span>
                        <span>Architecture</span>
                    </a>
                    <a href="network-params.html" class="nav-item">
                        <span class="nav-icon">‚öôÔ∏è</span>
                        <span>Network Parameters</span>
                    </a>
                    <a href="building.html" class="nav-item">
                        <span class="nav-icon">üî®</span>
                        <span>Building & Setup</span>
                    </a>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">CORE BLOCKCHAIN</div>
                    <a href="blockchain-core.html" class="nav-item">
                        <span class="nav-icon">‚õìÔ∏è</span>
                        <span>Block & Transaction</span>
                    </a>
                    <a href="utxo-model.html" class="nav-item">
                        <span class="nav-icon">üíé</span>
                        <span>UTXO Model</span>
                    </a>
                    <a href="consensus.html" class="nav-item">
                        <span class="nav-icon">üîê</span>
                        <span>Consensus & PoW</span>
                    </a>
                    <a href="validation.html" class="nav-item">
                        <span class="nav-icon">‚úÖ</span>
                        <span>Validation System</span>
                    </a>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">CONTRIBUTION SYSTEM</div>
                    <a href="contribution-overview.html" class="nav-item">
                        <span class="nav-icon">üéØ</span>
                        <span>Contribution Overview</span>
                    </a>
                    <a href="contribution-types.html" class="nav-item">
                        <span class="nav-icon">üìã</span>
                        <span>Contribution Types</span>
                    </a>
                    <a href="contribution-rewards.html" class="nav-item active">
                        <span class="nav-icon">üí∞</span>
                        <span>Reward System</span>
                    </a>
                    <a href="verification-system.html" class="nav-item">
                        <span class="nav-icon">üîç</span>
                        <span>Verification System</span>
                    </a>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">MWEB PRIVACY</div>
                    <a href="mweb-overview.html" class="nav-item">
                        <span class="nav-icon">üîí</span>
                        <span>MWEB Overview</span>
                    </a>
                    <a href="mweb-structures.html" class="nav-item">
                        <span class="nav-icon">üèóÔ∏è</span>
                        <span>MWEB Structures</span>
                    </a>
                    <a href="mweb-operations.html" class="nav-item">
                        <span class="nav-icon">‚ö°</span>
                        <span>Peg-in/Peg-out</span>
                    </a>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">RPC API</div>
                    <a href="rpc-overview.html" class="nav-item">
                        <span class="nav-icon">üì°</span>
                        <span>RPC Overview</span>
                    </a>
                    <a href="rpc-contribution.html" class="nav-item">
                        <span class="nav-icon">üì§</span>
                        <span>Contribution RPC</span>
                    </a>
                    <a href="rpc-mweb.html" class="nav-item">
                        <span class="nav-icon">üîê</span>
                        <span>MWEB RPC</span>
                    </a>
                    <a href="rpc-mining.html" class="nav-item">
                        <span class="nav-icon">‚õèÔ∏è</span>
                        <span>Mining RPC</span>
                    </a>
                    <a href="rpc-wallet.html" class="nav-item">
                        <span class="nav-icon">üëõ</span>
                        <span>Wallet RPC</span>
                    </a>
                    <a href="rpc-blockchain.html" class="nav-item">
                        <span class="nav-icon">‚õìÔ∏è</span>
                        <span>Blockchain RPC</span>
                    </a>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">WALLET SYSTEM</div>
                    <a href="wallet-overview.html" class="nav-item">
                        <span class="nav-icon">üëõ</span>
                        <span>Wallet Overview</span>
                    </a>
                    <a href="wallet-classes.html" class="nav-item">
                        <span class="nav-icon">üì¶</span>
                        <span>Wallet Classes</span>
                    </a>
                    <a href="address-system.html" class="nav-item">
                        <span class="nav-icon">üìç</span>
                        <span>Address System</span>
                    </a>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">QT GUI</div>
                    <a href="qt-overview.html" class="nav-item">
                        <span class="nav-icon">üñ•Ô∏è</span>
                        <span>GUI Overview</span>
                    </a>
                    <a href="qt-components.html" class="nav-item">
                        <span class="nav-icon">üß©</span>
                        <span>Components</span>
                    </a>
                    <a href="qt-models.html" class="nav-item">
                        <span class="nav-icon">üìä</span>
                        <span>Models</span>
                    </a>
                    <a href="qt-themes.html" class="nav-item">
                        <span class="nav-icon">üé®</span>
                        <span>Themes</span>
                    </a>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">FEE STRUCTURE</div>
                    <a href="fee-system.html" class="nav-item">
                        <span class="nav-icon">üíµ</span>
                        <span>Fee System</span>
                    </a>
                    <a href="community-reserve.html" class="nav-item">
                        <span class="nav-icon">üè¶</span>
                        <span>Community Reserve</span>
                    </a>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">TESTING</div>
                    <a href="testing-overview.html" class="nav-item">
                        <span class="nav-icon">üß™</span>
                        <span>Testing Overview</span>
                    </a>
                    <a href="test-structures.html" class="nav-item">
                        <span class="nav-icon">üìù</span>
                        <span>Test Structures</span>
                    </a>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">REFERENCE</div>
                    <a href="erd-diagram.html" class="nav-item">
                        <span class="nav-icon">üìê</span>
                        <span>ERD Diagram</span>
                    </a>
                    <a href="naming-conventions.html" class="nav-item">
                        <span class="nav-icon">üìù</span>
                        <span>Naming Conventions</span>
                    </a>
                    <a href="api-reference.html" class="nav-item">
                        <span class="nav-icon">üìö</span>
                        <span>Complete API Reference</span>
                    </a>
                </div>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <div class="content-header">
                <h1>Reward System</h1>
            </div>

            <section class="content-section">
                <h2>Block Reward Calculation</h2>
                <p>Fleet Credits uses a fixed block reward system with dynamic bonuses based on verified contributions in each block.</p>
                
                <p><strong>Files:</strong> <code>src/fleetcredits.cpp</code>, <code>src/primitives/contribution.cpp</code>, <code>src/validation.cpp</code></p>
                
                <h3>Base Reward</h3>
                <p><strong>Fixed Reward:</strong> 10,000 FC per block (no halving, unlimited issuance)</p>
                <p>Unlike Bitcoin-style cryptocurrencies, Fleet Credits maintains a constant block reward to ensure ongoing incentive for miners and contributors.</p>
                
                <h3>Reward Calculation Function</h3>
                <p>The main reward calculation function is <code>GetFleetCreditsBlockSubsidyWithContributions</code>:</p>
                <pre><code>CAmount GetFleetCreditsBlockSubsidyWithContributions(
    int nHeight,
    const Consensus::Params& consensusParams,
    uint256 prevHash,
    const std::vector&lt;CContributionTransaction&gt;& contrib_txs
)</code></pre>
                
                <h3>Reward Formula</h3>
                <pre><code>base_reward = 10000 * COIN  // Fixed 10,000 FC per block

// Find highest bonus level in block
maxBonusLevel = BONUS_NONE
for each contribution in contrib_txs:
    if contribution.bonus_level > maxBonusLevel:
        maxBonusLevel = contribution.bonus_level
        maxContribType = contribution.contrib_type

// Calculate multiplier
bonus_multiplier = GetBonusMultiplier(maxBonusLevel, maxContribType)

// Final reward
final_reward = base_reward * bonus_multiplier</code></pre>
                
                <h3>Bonus Multiplier Function</h3>
                <p>The <code>GetBonusMultiplier</code> function in <code>src/primitives/contribution.cpp</code> returns:</p>
                <ul>
                    <li><code>BONUS_NONE</code>: 1.0x (base reward only)</li>
                    <li><code>BONUS_LOW</code>: 1.05x (+5%)</li>
                    <li><code>BONUS_MEDIUM</code>: 1.10x (+10%)</li>
                    <li><code>BONUS_HIGH</code>: 1.15x (+15%)</li>
                    <li><code>BONUS_CRITICAL</code>: 1.20x (+20%), or 1.25x (+25%) for <code>AI_VALIDATION</code> contributions</li>
                </ul>
                
                <h3>Contribution Extraction</h3>
                <p>Contributions are extracted from blocks during validation via <code>ExtractContributionsFromBlock</code>:</p>
                <pre><code>std::vector&lt;CContributionTransaction&gt; ExtractContributionsFromBlock(const CBlock& block)</code></pre>
                
                <p>This function:</p>
                <ol>
                    <li>Iterates through all transactions in the block</li>
                    <li>Checks each output for <code>OP_RETURN</code> scripts</li>
                    <li>Identifies contributions by the marker <code>0xFC 0x01</code></li>
                    <li>Deserializes the contribution data</li>
                    <li>Returns a vector of all valid contributions</li>
                </ol>
                
                <h3>Block Validation Integration</h3>
                <p>In <code>ConnectBlock</code> (validation.cpp), contributions are extracted and used to calculate the block reward:</p>
                <pre><code>// Extract contributions from block
std::vector&lt;CContributionTransaction&gt; contributions = ExtractContributionsFromBlock(block);

// Calculate block reward with contribution bonuses
CAmount blockReward = nFees + GetFleetCreditsBlockSubsidyWithContributions(
    pindex->nHeight,
    consensusParams,
    pindex->pprev->GetBlockHash(),
    contributions
);</code></pre>
                
                <h3>Understanding the Base Reward</h3>
                <div class="info-box">
                    <strong>Why 10,000 FC for "No Contributions"?</strong><br>
                    The base reward of 10,000 FC is the <strong>standard mining reward</strong> for securing the network and validating transactions. This is paid to miners for their computational work securing the blockchain, regardless of whether the block contains contributions. Think of it as payment for the essential service of network security.<br><br>
                    <strong>Contributions add bonuses ON TOP</strong> of this base reward‚Äîthey don't replace it. The contribution system incentivizes including valuable data in blocks, but the base reward ensures miners are always compensated for network security.
                </div>
                
                <h3>Reward Examples</h3>
                <table>
                    <tr><th>Scenario</th><th>Base Reward</th><th>Bonus</th><th>Final Reward</th><th>Explanation</th></tr>
                    <tr><td>No contributions</td><td>10,000 FC</td><td>1.0x</td><td>10,000 FC</td><td>Standard mining reward for network security</td></tr>
                    <tr><td>Low bonus contribution</td><td>10,000 FC</td><td>1.05x</td><td>10,500 FC</td><td>Base reward + 5% bonus for minor contribution</td></tr>
                    <tr><td>Medium bonus contribution</td><td>10,000 FC</td><td>1.10x</td><td>11,000 FC</td><td>Base reward + 10% bonus for moderate contribution</td></tr>
                    <tr><td>High bonus contribution</td><td>10,000 FC</td><td>1.15x</td><td>11,500 FC</td><td>Base reward + 15% bonus for high-value contribution</td></tr>
                    <tr><td>Critical AI validation</td><td>10,000 FC</td><td>1.25x</td><td>12,500 FC</td><td>Base reward + 25% bonus for critical AI validation</td></tr>
                </table>
                
                <p><strong>Key Point:</strong> The base reward is fundamental to incentivizing mining and network security. Contributions provide <em>additional</em> rewards for including valuable community data, creating a dual incentive system.</p>
                
                <h3>Multiple Contributions</h3>
                <p>When multiple contributions exist in a block, only the <strong>highest bonus level</strong> is used for the multiplier. This prevents exponential reward growth while still incentivizing high-value contributions.</p>
            </section>
        </main>
    </div>

    <script src="../assets/js/main.js"></script>
</body>
</html>